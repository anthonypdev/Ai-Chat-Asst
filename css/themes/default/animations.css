/* ===================================================================
   PARKLAND AI - OPUS MAGNUM EDITION
   Default Theme Animations
   Production-Ready | AAA Quality | GPU Accelerated
   =================================================================== */

/* ===================================================================
   LOADING SCREEN ANIMATIONS
   =================================================================== */
@keyframes pulseLogoLoadingEnhancedOpus {
    0%, 100% {
        transform: scale(0.95) rotate(-3deg) translateY(3px);
        opacity: 0.9;
        filter: blur(0.5px) brightness(0.95);
    }
    33% {
        transform: scale(1.15) rotate(1deg) translateY(-8px);
        opacity: 1;
        filter: blur(0px) brightness(1.1);
        text-shadow:
            0 0 15px var(--primary-glow-soft),
            0 0 30px var(--primary-glow-medium),
            0 0 50px var(--primary-glow-strong);
    }
    66% {
        transform: scale(1.05) rotate(-1deg) translateY(-3px);
        opacity: 0.95;
        filter: blur(0.2px) brightness(1.05);
    }
}

@keyframes fadeInTextLoadingEnhancedOpus {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.97);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes progressBarShineOpus {
    0% { filter: brightness(1) contrast(1); }
    50% { filter: brightness(1.25) contrast(1.1) hue-rotate(15deg); }
    100% { filter: brightness(1) contrast(1); }
}

@keyframes fadeInTipLoadingOpus {
    from {
        opacity: 0;
        transform: translateY(12px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Apply loading animations */
[data-theme="default"] .loading-logo {
  animation: pulseLogoLoadingEnhancedOpus 3.8s infinite var(--ease-in-out);
}
[data-theme="default"] .loading-text {
  animation: fadeInTextLoadingEnhancedOpus 1.5s var(--ease-out) 0.1s forwards;
}
[data-theme="default"] .progress-bar {
  animation: progressBarShineOpus 2.2s infinite linear;
}
[data-theme="default"] .loading-tip {
  animation: fadeInTipLoadingOpus 1.5s var(--ease-out) 0.5s forwards;
}


/* ===================================================================
   GLOBAL ENTRANCE & UI ELEMENT ANIMATIONS
   =================================================================== */
@keyframes fadeInViewContainerOpus { /* For main views like chatContainer, loginContainer */
    from {
        opacity: 0;
        transform: scale(0.98) translateY(15px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes fadeInElementGenericOpus { /* General purpose fade-in */
    from {
        opacity: 0;
        transform: translateY(5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes emptyStateAppearOpus {
    from {
        opacity: 0;
        transform: scale(0.92) translateY(10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ===================================================================
   MESSAGE ANIMATIONS
   =================================================================== */
@keyframes messageAppearOpus {
    0% {
        opacity: 0;
        transform: translateY(12px) scale(0.97);
    }
    100% {
        opacity: 1;
        transform: translateY(0px) scale(1);
    }
}

@keyframes typingAvatarBounceEnhancedOpus { /* Renamed to avoid conflict if base-theme also has one */
    0%, 100% {
        transform: translateY(0) scale(1);
        opacity: 0.85;
    }
    50% {
        transform: translateY(-4px) scale(1.08);
        opacity: 1;
    }
}

@keyframes typingDotBounceOpus {
    0%, 60%, 100% {
        transform: translateY(0) scale(1);
        opacity: 0.6;
    }
    30% {
        transform: translateY(-6px) scale(1.2);
        opacity: 1;
    }
}

/* Apply message animations */
[data-theme="default"] .message.animate-in { /* Add .animate-in class with JS for new messages */
  animation: messageAppearOpus 0.5s var(--ease-out) forwards;
}
[data-theme="default"] .message.assistant.typing-indicator-wrapper .message-avatar {
  animation: typingAvatarBounceEnhancedOpus 1.4s var(--ease-in-out) infinite 0.15s;
}
[data-theme="default"] .typing-dot {
  animation: typingDotBounceOpus 1.6s infinite var(--ease-in-out);
}


/* ===================================================================
   BUTTON ANIMATIONS
   =================================================================== */
@keyframes buttonHoverPulseOpus {
    0% { transform: scale(1.02) translateY(-2px); } /* Start from hover state */
    50% { transform: scale(1.04) translateY(-3px); }
    100% { transform: scale(1.02) translateY(-2px); }
}

@keyframes buttonActivePressOpus {
    to { transform: scale(0.97) translateY(1px); }
}

@keyframes buttonRippleOpus {
    0% { transform: translate(-50%, -50%) scale(0); opacity: 0.35; }
    100% { transform: translate(-50%, -50%) scale(3); opacity: 0; }
}

/* Note: Apply these via JS or :hover/:active states in buttons.css or theme.css */

/* ===================================================================
   MODAL ANIMATIONS
   =================================================================== */
@keyframes modalZoomInOpus {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes modalBackdropFadeInOpus {
    from { opacity: 0; backdrop-filter: blur(0px) saturate(100%) brightness(1); }
    to { opacity: 1; backdrop-filter: var(--glass-backdrop); } /* Uses variable from theme */
}

/* Apply modal animations */
[data-theme="default"] .modal-overlay.active {
  animation: modalBackdropFadeInOpus 0.4s var(--ease-out) forwards;
}
[data-theme="default"] .modal-overlay.active .modal {
  animation: modalZoomInOpus 0.4s var(--ease-back-out) 0.1s forwards; /* Delay modal slightly after backdrop */
}

/* ===================================================================
   SIDEBAR ANIMATIONS
   =================================================================== */
@keyframes sidebarSlideInFromLeftOpus {
    from { transform: translateX(-100%); opacity: 0.9; }
    to { transform: translateX(0); opacity: 1; }
}
@keyframes sidebarSlideOutToLeftOpus {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(-100%); opacity: 0.9; }
}

@keyframes sidebarItemAppearOpus {
    from { opacity: 0; transform: translateX(-15px); }
    to { opacity: 1; transform: translateX(0); }
}

/* Apply sidebar animations (JS will toggle .open/.collapsed) */
[data-theme="default"] .sidebar.open-animating {
    animation: sidebarSlideInFromLeftOpus var(--transition-medium) var(--ease-out) forwards;
}
[data-theme="default"] .sidebar.close-animating {
    animation: sidebarSlideOutToLeftOpus var(--transition-medium) var(--ease-in) forwards;
}
[data-theme="default"] .sidebar.open .chat-history-item {
    /* Staggered animation for items can be applied by JS adding a class or using :nth-child delays */
}

/* ===================================================================
   OTHER UI ELEMENT ANIMATIONS
   =================================================================== */

@keyframes inputFocusGlowOpus {
    0% { box-shadow: var(--shadow-inner), 0 0 0 0px var(--primary-glow-soft); }
    100% { box-shadow: var(--shadow-inner), 0 0 0 4px var(--primary-glow-soft); }
}

@keyframes errorShakeOpus {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

@keyframes copySuccessFeedbackOpus {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.7; }
  100% { transform: scale(1); opacity: 1; }
}

/* ===================================================================
   PERFORMANCE & ACCESSIBILITY
   =================================================================== */
@media (prefers-reduced-motion: reduce) {
  /* Disable animations for users who prefer reduced motion */
  *, *::before, *::after {
    animation-delay: -1ms !important; /* Effectively disables animations */
    animation-duration: 1ms !important; /* Effectively disables animations */
    animation-iteration-count: 1 !important; /* Play only once */
    background-attachment: initial !important; /* Fix background images */
    scroll-behavior: auto !important; /* Disable smooth scrolling */
    transition-duration: 0s !important; /* Disable transitions */
    transition-delay: 0s !important; /* Disable transition delays */
  }
}

/* GPU Acceleration hints (apply these classes with JS or directly in HTML) */
.gpu-accelerate-animation {
  will-change: transform, opacity; /* Common animated properties */
  transform: translateZ(0); /* Promote to own layer */
  backface-visibility: hidden;
  perspective: 1000px; /* Necessary for some 3D transform effects to be hardware accelerated */
}

/* Animation application classes (to be added by JS or directly) */
.animate-fade-in {
  animation: fadeInElementGenericOpus 0.5s var(--ease-out) forwards;
  opacity: 0; /* Start hidden */
}

.animate-slide-in-left { /* Example for sidebar items */
  animation: sidebarItemAppearOpus 0.4s var(--ease-out) forwards;
  opacity: 0;
}

.animate-pop-in { /* Example for modals or cards */
   animation: modalZoomInOpus 0.4s var(--ease-back-out) forwards; /* Using modal animation as example */
   opacity: 0;
}

.animate-shake {
    animation: errorShakeOpus 0.5s var(--ease-in-out);
}
